<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이미지파일 미리보기</title>
</head>
<body>
    <div>
        <input type="file" name="file" accept="image/*" onchange="handleImgChange()">
    </div>

    <div>
        <img src="" alt="" width="300">
    </div>
    <script>
        const handleImgChange=() =>{
            const imgFile = document.querySelector("[type='file']").files[0];
            const imgTag = document.querySelector("img");
            if(imgFile){
                //FileReader : JavaScript파일을 읽기위한 API
                const reader = new FileReader();
                // FileReader를 실행할때 동작설정
                reader.onload =  (e) =>{
                    //readAsDataURL 메서드가 실행되면 src에 파일데이터를 저장
                    imgTag.src=e.target.result;
                    // display CSS를 block을 설정하여 화면에 표시
                    imgTag.style.display='block';
                }
                // 파일을 base64로 읽어 위의 reader.onload를 실행
                reader.readAsDataURL(imgFile);
            }
            else{
                imgTag.src="";
                imgTag.style.display="none";
            }
        }
    </script>
</body>
</html>